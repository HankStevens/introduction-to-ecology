---
title: "Computer setup"
---

## Goals

- Install R and RStudio
- Set up your computer to play well with R.
- Begin to learn how to use R.

## Background

In this project, you will download and install R, known formally as the *R programming language and environment*. You will also install *RStudio*, an integrated development environment (IDE), designed to be used with R. The R interface looks a little different on Windows, Macs, and Linux computers. RStudio will allow us all share an identical appearance and user experience. You will use R by opening RStudio.

These videos might be useful, although all the content and instructions are written in text below. Ranked in order of importance and convenience:

1. [Installing R and RStudio](https://youtu.be/4KcNgXS1CUw){target="_blank"}
1. [Set up your computer and start to use R via RStudio](https://youtu.be/vf5El6FVwpw){target="_blank"}
1. [Saving figures made with ggplot()](https://youtu.be/p4uT6ycJEjw){target="_blank"}
1. [Introduction to ggplot2 (long - 20 min)](https://youtu.be/uS0_OH8fRls){target="_blank"}


## Installing R

### What and Why

We will use the Open Source R programming language and environment for doing science, including,

-   exploring data,
-   testing ideas, and
-   modeling dynamical systems like populations of rare and endangered species, disease dynamics, and ecosystems.

You need to download the application to get started.

-   R is free.
-   R runs on all operating systems.
-   R is powerful.

### How

1.  Find out what version of operating system (OS) your computer is using (e.g., Windows 10 or 11, or Linux Ubuntu 22.04, or Mac Monterey or Ventura). This will help determine which version of R to use. If you are using a Mac, this also requires that you determine which version of processor or chip your computer uses (Intel processor vs. Apple M1 chip or higher). Check the processor or chip using the Apple icon menu in the upper left corner.
2.  Google R (just the letter "R") to navigate to the *R Project for Statistical Computing*.
3.  Find the link in the left Task Bar for *CRAN* (Comprehensive R Archive Network).
4.  Find and navigate to a CRAN site near you (e.g., United States or Midwest US or Ohio). These are called *mirrors* because they are copies of each other.
5.  Download and install the latest release of R for your operating system (Mac, Windows, or Linux).
6.  As of January 2023, it was version 4.2.2. It is a single file to download. You should use whatever the latest version is.
7.  In January 2023, it was worked like this:
    a.  Mac - select R-4.2.2.pkg (for the Intel chip) or R-4.2.2.arm64.pkg (for the Apple M1 chip)
    b.  Windows - select the "base" package, then R 4.2.2
    c.  Linux - select your flavor, and follow instructions.

### Where

-   R and RStudio will be installed along side all your other applications.

### Installing RStudio

RStudio is an integrated development environment (IDE), designed to be used with R. The R interface looks a little different on Windows, Macs, and Linux computers. RStudio will allow us all share an identical appearance and user experience. 

1. Navigate online to the RStudio website.
1. Under Products find RStudio IDE.
1. Select and download the Open Source Edition (RStudio Desktop). You want the desktop version (not the server version).
1. Follow instructions to install on your computer.

RStudio is an interface to R. When we use R in this class, we will use RStudio as our interface, but you need to realize that we are primarily *using R*. We don't need RStudio to do the work, but it makes my job as instructor easier, and makes it a little easier for you as well. So, *when you start to use R, just open RStudio, and it will load R for you*.

### Windows tweak

You will need to be able to see file extensions on your computer. A file extension is the little label at the end of a file name that comes after the dot, such as

-   .jpg or .jpeg is the extension for JPEG image files.
-   .docx is the extension for Microsoft Word document files.
-   .txt is the extension for plain text files.
- .xlsx is the extension for Microsoft Excel files. You will work with these.
- .csv is the extension for Comma Separated Value text files - these can be produced by spreadsheet applications. You will work with these.
- .R is the extension for R scripts. You will work with these.

On Windows 10, you need to make changes to see file extensions by revealing "hidden items". Windows 10: 1. Open File Explorer; if you do not have an icon for this in the task bar; click Start, click Windows System, and then File Explorer. 

![Finding File Explorer on Windows.](figs/file-explorer.png){width=60%}


2.  Click the View tab in File Explorer

![View tab in File Explorer](figs/view-tab.png){width="100%"}


3.  Click the box next to File name extensions to see file extensions.
4.  Click the box next to Hidden items to see hidden files.

You should now be able to see file name extensions (e.g., .docx, .R) and hidden files.

## Set up two folders for this class

1. Set up a folder for this class. Call it "BIO209W". Do not name it "BIO 209W" or "Bio209W" or "ecology". Just "BIO209W". It will help us. I don't really care where you put this folder, but I hope you have a place for all of your classes and you could put it there.

2. Next, set up a **subfolder** inside BIO209W called "Rwork". Do not call it "RWORK" or "R work" or anything - just "Rwork". It will help us. A lot. `Rwork` will be your *working directory*, which is where R looks automatically for data and where it automatically puts output.

## Working in R

To work in R in this class, we will open RStudio. It will open R for you. 

### Set your working directory

Your working directory is where R looks to find stuff. R can look anywhere you tell it to, but it looks automatically in your "working directory". In this class, you should always use "Rwork" as your working directory.

First, let's find out what your current working directory is. We will GET your Working Directory with this code:
```{r}
getwd()
```

This tells me what R is using as my working directory right now. My current working directory will differ from yours.

What do you get when you run this code? If it is NOT Rwork, use the "Session" pulldown menu in RStudio to `Set Working Directory` and then `Choose your working directory` and always choose `Rwork` (which should be inside BIO209W).

### Create a *project*

RStudio allows you to organize your work in *projects*. Here we create a new project that we will call `Rwork`. 

This requires that you already have a folder called "BIO209W" and a subfolder in that called "Rwork".

1. In RStudio, use the File menu to select "New Project", and select "Existing Directory".
1. In that dialogue, navigate to "Rwork", and select "Open."
1. Select "Create Project".

RStudio will now shift the working directory to your Rwork directory. You can see evidence of this: in the upper right pane which should have Rwork identified in the upper right corner, or in the lower right pane in the Files tab.

**From now on in this course, make sure that you are using this project.** You can open R by clicking the "Rwork.proj" file in your Rwork directory, or opening RStudio, and selecting the Rwork project in the upper right corner.

## Start and save a script

Goal: Write a script in R and learn several important programming operations.

After you have prepared your computer as above, you are ready to begin exploring and modeling data. We do that using *scripts*. 

A script is a **plain text** file that contains the code and and your own comments that you use to address your questions. 

The following steps will let you accomplish the goal of this section. The video above showed me opening R with RStudio, and starting a new script.

**Writing comments** Anything following a hashtag (#) is a comment and R ignores it. You and I will use lots of comments to ask questions of ourselves, and to describe what we are trying to do.


- Use the File menu in RStudio to start a New File, specifically, an R Script. This will open a file in the upper left of RStudio.
- write the following in the new script, and include the hastags.
```{r}
## My first R script in BIO 209W Spring 2023
## [add your name]
```

**ALL OF THE WORK YOU DO SHOULD BE IN A SCRIPT.**

### Entering and running code
To enter code, place your cursor on any line in the script, and type, like this.
```{r results='hide'}
-1:5
```

To run code, simply place you cursor anywhere on a line of code and hit Control-Enter or Control-Return or Command-return (Mac).

Try it with this:
```{r}
-1:5
```
This will pop up in the Console, which is the lower left pane in RStudio. 

What did this create? Do you get what I got above?

### Assignment operator
W?hen we create something, we typically want to *assign* it to a labeled object. In this class, we will use an arrow to indicate that we are putting a creation into an object. We create the arrow on our keyboard using shift-comma and a dash ('less than' and a dash)
```{r}
a <- -1:5
```
This puts the series of integers from -1 to 10 into the object `a`. 

### Examing objects
If we have an object, like `a`, how can we figure out what it is? There are several ways of doing that. The simplest is to "print" it out. This doesn't mean that we print it on paper. Rather we are printing it to the console, like this:
```{r}
# show or 'print' a
a
```

Another way is to look at its "structure":
```{r}
str(a)
```
This tells us that this is a vector of integers that is 7 elements long.

Another way is to look in the RStudio *Environment pane* in the upper righthand side of RStudio.

Now let's create a set of 7 uniformly distributed random numbers that are between 0 and 1.
```{r}
b <- runif(7, min=0, max=1)
b
```

These will differ every time you do this. 

Now we multiply each element in `a` times the corresponding elements in `b`.

```{r}
# multiply a and b
ab <- a * b
## Show a, b, and ab
a
b
ab
```
You can confirm at a glance that the first and second elements in `a` times the first and second elements in `b` equal the first and second elements in `ab`.

### Combining vectors into a data frame

We will use lots of data frames in this course. Think of a data frame as a kind of spreadsheet of data, in which every column has the same number of entries and every row is an observation comprising all of the variables across all the columns. 

Here is one way to create a data frame. We assign variables using "=".
```{r}
d <- data.frame(a=a, b=b, a_times_b = ab)
d
```

You could examine the structure of this data frame with `str()`.
```{r}
str(d)
```

You will also notice now that you can see all of our objects in the Environment pane, in the upper right of RStudio.

You can export data frames from R as well, and programmers call that "writing" a file. The command below will save our data frame as .CSV files that you could open in a spreadsheet application.
```{r}
# export or write a file
write.csv(x=d, file="myDataframe.csv", row.names=FALSE)
# including row.names=FALSE prevents R from adding row names.
```

This should cause the data frame `d` to get saved to your working directory. Did it work for you?


### Plotting data

Now let's plot some data, including both points and lines connecting them.
```{r}
# type='p' is for points only
plot(a, ab, type='p') 
```

R is well known for its graphics capabilities, and we will only just scratch the surface in this course.

## Install an R package 

R is open source, and its strength derives in part from the thousands of scientists creating extensions or add-on packages to do particular tasks. By itself, R can do amazing things. With thousands of *contributed packages* (as they are known), R's capabilities have exploded. 

You can add a package in a few ways, including. 

* Use the Tools menu, select "install packages" and type the name of the package you want.
* use a function, "install.packages("[packagename]"), with quotes but without brackets. 

In this class, you will need to install several packages. Let's try installing "ggplot2".
```{r eval=FALSE}
install.packages("ggplot2")
```

This will install ggplot2, and it will also install anything upon which ggplot2 depends. It will install all of its dependencies. 

Once you have installed a package, it is on your computer for good. You do not have to install it again, although you may want to update it once in a while to stay current.

Now let's use the plotting functions in the `ggplot2` package.

## Load and use an R package

To use a contributed package, we need to *load* it. This simply means waking it up, and putting its code in R's working memeory. We do that with `library()`.
```{r}
library(ggplot2)
```

Here we use `ggplot()` and `geom_smooth()` to plot our data, and add a fitted curve.

When we use ggplot(), we tell it the name of our data frame and the variables we want to use go inside `aes()`, which stands for "aesthetics". We also begin to add bells and whistles.
```{r}
## plot data and fit a curve
ggplot(data=d, aes(x=a, y=a_times_b)) + 
  geom_line() +
  labs(x="a", y="Product of a and b")
```

Note that with ggplot, we use the plus sign (+) to add elements to our graph.

### Saving your graphs
We can save this figure as well, in a variety of formats and sizes. By default, these are saved to our working directory, though we can change that if we want to.
```{r}
ggsave("myPlot.png")
ggsave("myPlot.jpg", width=7, height = 3)
ggsave("myPlot.pdf", width=3, height = 5)
```

## Getting help

R has a bit of a learning curve. What should you do if you get stuck? It all depends what sort of problem it is.

1. First, ask your partner.
1. Use the Help tab in the lower right pane in RStudio. (Similarly, type `?mean` in the Console to get help on the function `mean()`.)
1. Ask another classmate.
1. Ask me.
1. Search online.
1. Did I mention you could ask me?

## Deliverables

For the "First R script" assignment on Canvas:

1. Upload "myPlot.png" and "myDataframe.csv" to the .
1. Explain your biggest surprise in this assignment.

Congratulations. *C'est fini*!
